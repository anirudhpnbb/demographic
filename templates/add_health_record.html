{% extends "base.html" %}

{% block title %}Add Health Record - Patient Demographic System{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card">
            <div class="card-header">
                <h4><i class="fas fa-notes-medical"></i> Add Health Record</h4>
                <p class="mb-0">Patient: {{ patient.first_name }} {{ patient.last_name }} ({{ patient.patient_id }})</p>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="location_id" class="form-label">Current Location *</label>
                                <select class="form-select" id="location_id" name="location_id" required>
                                    <option value="">Select Location</option>
                                    {% for location in locations %}
                                        <option value="{{ location.id }}">{{ location.name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="recorded_by" class="form-label">Recorded By *</label>
                                <input type="text" class="form-control" id="recorded_by" name="recorded_by" required 
                                       placeholder="Healthcare provider name">
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="height" class="form-label">Height (cm)</label>
                                <input type="number" step="0.1" class="form-control" id="height" name="height" 
                                       placeholder="170.5">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="weight" class="form-label">Weight (kg)</label>
                                <input type="number" step="0.1" class="form-control" id="weight" name="weight" 
                                       placeholder="70.5">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="temperature" class="form-label">Temperature (Â°C)</label>
                                <input type="number" step="0.1" class="form-control" id="temperature" name="temperature" 
                                       placeholder="36.5">
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="bp_systolic" class="form-label">BP Systolic</label>
                                <input type="number" class="form-control" id="bp_systolic" name="bp_systolic" 
                                       placeholder="120">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="bp_diastolic" class="form-label">BP Diastolic</label>
                                <input type="number" class="form-control" id="bp_diastolic" name="bp_diastolic" 
                                       placeholder="80">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="heart_rate" class="form-label">Heart Rate (bpm)</label>
                                <input type="number" class="form-control" id="heart_rate" name="heart_rate" 
                                       placeholder="72">
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="notes" class="form-label">Notes</label>
                        <textarea class="form-control" id="notes" name="notes" rows="4" 
                                  placeholder="Additional observations, symptoms, or notes"></textarea>
                    </div>
                    
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{{ url_for('patient_details', patient_id=patient.patient_id) }}" 
                           class="btn btn-secondary me-md-2">Cancel</a>
                        <button type="submit" class="btn btn-primary">Save Health Record</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}